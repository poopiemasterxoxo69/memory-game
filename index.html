<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Memory Game</title>
    <link rel="stylesheet" href="pokecss.css">
</head>
<body>

<p id="test">Aantal kaarten: 0</p>

<div class="memory-game" id="memoryGame"></div>

<!-- Knoppen om kaarten toe te voegen -->
<div class="button-container">
    <button class="spel_knop makkelijk" onclick="makkelijk()">Makkelijk</button>
    <button class="spel_knop normaal" onclick="normaal()">Normaal</button>
    <button class="spel_knop moeilijk" onclick="moeilijk()">Moeilijk</button>
    <button class="spel_knop extreem-moeilijk" onclick="extreem_moeilijk()">Extreem Moeilijk</button>
    <button class="spel_knop andergraad" onclick="andergraad()">Andere moeilijkheidsgraad</button>
</div>

<script>
let getal = 0;
let memoryGame = document.getElementById("memoryGame");
let testP = document.getElementById("test");
let graadgekozen = false;
let aantal_nieuwe_kaarten = 0;
let openCards = []; // Bewaar de open kaarten om te vergelijken
let matchedCards = []; // Bewaar de kaarten die al gematcht zijn

function makkelijk() {
    if (!graadgekozen) {
        aantal_nieuwe_kaarten = 24;
        graadgekozen = true;
        voegKaartenToe(aantal_nieuwe_kaarten);
        memoryGame.classList.remove("small-cards"); // Verwijder de kleine kaarten klasse
    }
}

function normaal() {
    if (!graadgekozen) {
        aantal_nieuwe_kaarten = 32;
        graadgekozen = true;
        voegKaartenToe(aantal_nieuwe_kaarten);
        memoryGame.classList.remove("small-cards"); // Verwijder de kleine kaarten klasse
    }
}

function moeilijk() {
    if (!graadgekozen) {
        aantal_nieuwe_kaarten = 40;
        graadgekozen = true;
        voegKaartenToe(aantal_nieuwe_kaarten);
        memoryGame.classList.add("small-cards"); // Voeg de kleine kaarten klasse toe
    }
}

function extreem_moeilijk() {
    if (!graadgekozen) {
        aantal_nieuwe_kaarten = 48;
        graadgekozen = true;
        voegKaartenToe(aantal_nieuwe_kaarten);
        memoryGame.classList.add("small-cards"); // Voeg de kleine kaarten klasse toe
    }
}

function voegKaartenToe(aantalKaarten) {
    // Verwijder bestaande kaarten als graad al gekozen was
    if (graadgekozen) {
        const kaarten = document.querySelectorAll('.speelkaart');
        kaarten.forEach(kaart => kaart.remove());
        getal = 0; // Reset aantal kaarten
        matchedCards = []; // Reset de gematchte kaarten
    }

    // Maak een lijst van getallen voor de kaarten
    let numbers = [];
    for (let i = 1; i <= aantalKaarten / 2; i++) {
        numbers.push(i, i); // Elk nummer komt twee keer voor
    }

    // Schud de nummers
    numbers = shuffle(numbers);

    // Voeg nieuwe kaarten toe
    for (let i = 0; i < aantalKaarten; i++) {
        let newCard = document.createElement("div");
        newCard.classList.add("speelkaart");
        newCard.dataset.number = numbers[i]; // Zet het nummer op de data attribuut van de kaart

        // Voeg het kaart-inner element toe met de afbeelding van de PokÃ©mon aan de voorkant
        newCard.innerHTML = `
            <div class="kaart-inner">
                <div class="kaart-achterkant"></div>
                <div class="kaart-voorkant" style="background-image: url('imgs/pokemon_kaart_${numbers[i]}.png');"></div>
            </div>
        `;
        newCard.addEventListener('click', flipCard);
        memoryGame.appendChild(newCard);
    }

    getal += aantalKaarten;
    testP.textContent = "Aantal kaarten: " + getal;
}

function shuffle(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]]; // Swap
    }
    return array;
}

function flipCard() {
    if (openCards.length < 2 && !this.classList.contains("open") && !matchedCards.includes(this)) {
        this.classList.add("open");
        openCards.push(this);

        if (openCards.length === 2) {
            // Vergelijk de twee open kaarten
            setTimeout(function() {
                if (openCards[0].dataset.number === openCards[1].dataset.number) {
                    matchedCards.push(openCards[0], openCards[1]); // Voeg de gematchte kaarten toe
                } else {
                    openCards[0].classList.remove("open");
                    openCards[1].classList.remove("open");
                }
                openCards = []; // Reset open kaarten
            }, 1000); // 1 seconde wachten voor het omdraaien van kaarten
        }
    }
}

function andergraad() {
    if (graadgekozen) {
        graadgekozen = false; // Zet graadgekozen op false
        const kaarten = document.querySelectorAll('.speelkaart');
        kaarten.forEach(kaart => kaart.remove()); // Verwijder alle kaarten
        memoryGame.classList.remove("small-cards"); // Verwijder styling voor kleine kaarten
        getal = 0; // Reset het aantal kaarten
        testP.textContent = "Aantal kaarten: " + getal;
    }
}





</script>

</body>
</html>
